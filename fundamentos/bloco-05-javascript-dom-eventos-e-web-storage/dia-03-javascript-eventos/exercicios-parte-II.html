<!--
VIDEOAULA | PARTE II

  ADDEVENTLISTENER é formado por "addEventListener(tipoEvento, função)" onde ele define-se no primeiro parâmetro o tipo de evento a ser "escutado/esperado" e a função que deverá ser executada quando esse evento ocorrer.

  Alguns tipos de evento que podem ser utilizados são:
   'click', 'dbclick', 'change', 'scroll', 'mouseover', 'mouseleave', etc. 

  Ele também proporciona a criação de eventos dinâmicos apenas com o uso do javascript, ou seja, torna desnecessário adicionar ao código HTML comandos como "onclick", "onmouseover" e afins, fazendo essa associação diretamente pelo script por meio de seletores.

  ADDEVENTLISTENER permite adicionar esses recursos de forma mais flexível conforme a necessidade, sem limitações como é no caso do uso de "WINDOW.ONLOAD" para carregar o script da página.
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styleI.css">
  <title>Document</title>
</head>
<body>
  <p id="trybe">
    Vamos aprender a usar os eventos?
  </p>

  <p id="clicar">Parágrafo para ser clicado</p>

  <div>
    <button id="mouse-over-leave">Botão para ter o mouse passado em cima e removido</button>
  </div>

  <script>
    let body = document.getElementsByTagName('body')[0];
    
    // Cria container 'div'
    let criaDiv = document.createElement('div');
      criaDiv.setAttribute('id', 'btn-color-change');
      criaDiv.style.width = '422px';
      criaDiv.style.height = '26px';
      criaDiv.style.border = 'solid black'
    
      // Cria button dentro do container 'btn-color-change'
    let criaBtn1 = document.createElement('button');
      criaBtn1.setAttribute('id', 'btn-set-color');
      criaBtn1.innerText = 'Clique para alterar a cor'
    
    body.appendChild(criaDiv)
    criaDiv.appendChild(criaBtn1)
    
    // Cria button para limpar a cor do container 'btn-set-color'
    let criaBtn2 = document.createElement('button');
      criaBtn2.setAttribute('id', 'btn-clear-color');
      criaBtn2.innerText = 'Limpa cor'
    body.appendChild(criaBtn2)
    
    // Cria evento para atribuir cor vermelha
    let clickBtn = document.querySelector('#btn-set-color');
    clickBtn.addEventListener('click', setRedColor);

    // Cria evento para limpar cor
    let clickBtn2 = document.getElementById('btn-clear-color');
    clickBtn2.addEventListener('click', clearColor)
    

    
    // Exemplo 1 - Click
    let clickP = document.getElementById('clicar'); //seleciona o elemento para sofrer o evento "click"

    // Adiciona o evento de click
    clickP.addEventListener('click', recebeClick); //adiciona ao elemento selecionado o evento que será executado quando for "escutado" e a função que deverá conter a ação a ser realizada

    function recebeClick(clickParagrafo) {
      // TRATANDO INFORMAÇÔES DA FUNÇÃO DE AddEventListener:
      //
      // Quando adicionamos um parâmetro à função que executará a função que queremos ao receber o evento estamos falando que queremos pegar as informações obtidas no evento e tratá-las, ou seja, pegar as duas informações ('click' e "clickP") que entram como atributo do parâmetro para outras para aplicar outras ações.

      // o parâmetro "clickParagrafo" recebe tanto o evento (no caso "click") quanto o objeto que sofre a ação (o parágrafo que está atribuído à variável "clickP"). Eles são identificados respectivamente da seguinte forma:
      
      // .target: O elemento que originou esse mesmo evento
      // .type: O tipo de evento que originou o click - Mouse, Keyboard, Screen...
      
      // ou seja, é como se os dois fossem argumentos de um mesmo parâmetro (clickParagrafo) e a partir deles fossem criadas novas variáveis, sendo elas:

      // clickParagrafo.target = clickP
      // clickParagrafo.type = 'click'
      
      console.log(clickParagrafo.target); // target traz o "alvo", o objeto de origem que sofreu a ação do evento, no caso o parágrafo, pois é ele quem está recebendo as ações definidas pelo "ADDEVENTLISTENER". O retorno será como se tivéssemos recebendo o resultado após escolher o elemento usando um código similar a "document.getElementById('clicar')"
      console.log(clickParagrafo.type); // traz o tipo de evento que o elemento sofreu, no caso o parágrafo ao ser clicado foi submetido ao evento "click". Por isso após exibir "document.getElementById('clicar')" será exibido "click"
    }

    //Exemplo 2 - Mouse over, mouse leave
      let mouseOverLeaveButton = document.getElementById('mouse-over-leave');
    
    // Podemos adicionar múltiplos eventos para o mesmo elemento, como baixo.
    
    //Adiciona o evento de mouse over
      mouseOverLeaveButton.addEventListener('mouseover', mouseEmCima);
    
    //Adiciona o evento de mouse leave
      mouseOverLeaveButton.addEventListener('mouseleave', mouseSaiudDoElemento);
    
      function mouseEmCima() {
        console.log('Mouse passou por cima');
      }
    
      function mouseSaiudDoElemento() {
        console.log('Mouse saiu do elemento')
      }

      function setRedColor() {
        criaDiv.style.backgroundColor = 'red';
      }
      
      function clearColor() {
        criaDiv.style.backgroundColor = 'white';
      }
  </script>
</body>
</html>
